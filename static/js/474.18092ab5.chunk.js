"use strict";(self.webpackChunkfinancetechsystem=self.webpackChunkfinancetechsystem||[]).push([[474],{7146:function(n,e,t){t.d(e,{FH:function(){return o},Ld:function(){return c}});var s=t(4165),r=t(5861),i=(t(2062),t(4801)),a=t(1620),c=function(){var n=(0,r.Z)((0,s.Z)().mark((function n(e,t,r,a){var c,l=arguments;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=l.length>5&&void 0!==l[5]?l[5]:{},"fetch"===(l.length>4&&void 0!==l[4]?l[4]:"fetch")?o(e,t,a,r):parseInt(t)===parseInt(c.instLinker)&&r((0,i.m$)(c));case 3:case"end":return n.stop()}}),n)})));return function(e,t,s,r){return n.apply(this,arguments)}}(),o=function(n,e,t,s){fetch("".concat(a.l,"/sub/get"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(n)},body:JSON.stringify({online:t,instLinker:e})}).then((function(n){return n.json()})).then((function(n){200===n.status&&s((0,i.U6)(n.subs))})).catch((function(){}))}},6474:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var s=t(9439),r=t(2791),i=t(7689),a=t(9434),c=t(2141),o=t(5124),l=t(7856),u=t(184),d=function(n){var e=n.setDrawer,t=(0,i.s0)();(0,a.v9)((function(n){return n.inst.activeInst}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(c.Z,{style:{width:"100%"},children:[(0,u.jsxs)(c.Z.Toggle,{variant:"transparent",className:"nav-link",children:[(0,u.jsx)(o.Z,{})," Admin"," "]}),(0,u.jsxs)(c.Z.Menu,{variant:"dark",children:[(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("branches")},children:"Branches"})}),(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("groups")},children:"Groups"})}),(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("accounts")},children:"Accounts"})}),(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("staffs")},children:"Staffs"})}),(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("modes")},children:"Payment Modes"})}),(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("edit")},children:"Edit Institution"})})]})]}),(0,u.jsx)("hr",{}),(0,u.jsxs)(c.Z,{style:{width:"100%"},children:[(0,u.jsxs)(c.Z.Toggle,{className:"nav-link",variant:"transparent",children:[(0,u.jsx)(l.Z,{})," Expenses"]}),(0,u.jsxs)(c.Z.Menu,{variant:"dark",children:[(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("expensecats")},children:"Expense Categories"})}),(0,u.jsx)(c.Z.Item,{children:(0,u.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("expenses")},children:"Expenses"})})," "]})]})," ",(0,u.jsx)("hr",{})]})},x=t(3872),p=t(2841),k=t(1838),m=t(3427),h=t(8090),f=t(7444),j=t(3389),v=t(9250),g=t(4169),y=t(4428),I=t(1620),C=y.ZP.connect(I.l),Z=function(n){C.emit("joinRoom",n)},L=t(7866),N=t(3750),b=t(645),w=t(9362),T=t(9807),A=t(7001),V=t(9904),F=t(4915),S=t(6554),Y=t(7146),P=function(){var n=(0,a.I0)(),e=(0,a.v9)((function(n){return n.auth.user})),t=(0,a.v9)((function(n){return n.online.online})),s=(0,a.v9)((function(n){return n.cred.activeCred}));return(0,r.useEffect)((function(){C.on("message",(function(r){"staff"===r.messageType&&(0,L.Ui)(s.instLinker,e.token,n,t,"socket",r.dataValues),"mode"===r.messageType&&(0,N.yl)(e.token,s.instLinker,n,t,"socket",r.dataValues),"expenseCat"===r.messageType&&(0,b.kt)(e.token,s.instLinker,n,t,"socket",r.dataValues),"expense"===r.messageType&&(0,w.mX)(e.token,s.instLinker,n,t,"socket",r.dataValues),"account"===r.messageType&&(0,T.xY)(e.token,s.instLinker,n,t,"socket",r.dataValues),"application"===r.messageType&&(0,A.Xk)(e.token,s.instLinker,n,t,"socket",r.dataValues),"branch"===r.messageType&&(0,V.YR)(e.token,s.instLinker,n,t,"socket",r.dataValues),"entry"===r.messageType&&(0,F.Zj)(e.token,s.instLinker,n,t,"socket",r.dataValues),"group"===r.messageType&&(0,S.xc)(e.token,s.instLinker,n,t,"socket",r.dataValues),"client"===r.messageType&&(0,L.lX)(s.instLinker,e.token,n,t,"socket",r.dataValues),"sub"===r.messageType&&(0,Y.Ld)(s.instLinker,e.token,n,t,"socket",r.dataValues)}))}),[]),(0,u.jsx)(u.Fragment,{})},E=t(4165),D=t(5861),z=t(6461),X=t(6548),M=t(5420),R=function(){var n=(0,a.I0)(),e=(0,a.v9)((function(n){return n.auth.user})),t=(0,a.v9)((function(n){return n.cred.activeCred})),i=(0,a.v9)((function(n){return n.online.online})),c=(0,a.v9)((function(n){return n.inst.activeInst})),o=(0,a.v9)((function(n){return n.cred.creds})),l=(0,r.useState)(!1),d=(0,s.Z)(l,2),x=d[0],p=d[1],k=(0,r.useState)(!1),m=(0,s.Z)(k,2),h=m[0],f=m[1];(0,r.useEffect)((function(){j()}),[h,e]);var j=function(){var t=(0,D.Z)((0,E.Z)().mark((function t(){var s;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x){t.next=15;break}if(p(!0),e.token){t.next=8;break}return t.next=5,v();case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=e;case 9:if(s=t.t0,c.id&&0!=c.id){t.next=13;break}return t.next=13,(0,M.jB)(c,s,n);case 13:g(s),p(!1);case 15:C.on("connect",(function(){f(!0)})),C.on("disconnect",(function(){f(!1)})),Z({clientId:c.clientId}),o.map((function(n){n.email!=e.logger&&n.contact!=e.logger||Z({token:e.token,instLinker:n.instLinker,room:n.instLinker})}));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,D.Z)((0,E.Z)().mark((function t(){var s,r;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,z.F6)(e.logger);case 2:if("register"!==(s=t.sent)&&0!==s){t.next=9;break}return t.next=6,(0,z.a4)(e.logger,e.password,e.linker,e.linker);case 6:r=t.sent,t.next=12;break;case 9:return t.next=11,(0,z.YV)(e.logger,e.password);case 11:r=t.sent;case 12:if(!r.token||!r.user){t.next=15;break}return n((0,X.x4)({name:e.name,email:e.logger,password:e.password,linker:e.linker,live:1,token:r.token,logger:e.logger,id:r.user.id})),t.abrupt("return",{name:e.name,email:e.logger,password:e.password,linker:e.linker,live:1,token:r.token,logger:e.logger,id:r.user.id});case 15:return t.abrupt("return",e);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(e){1===parseInt(t.admin)&&(0,L.Ui)(t.instLinker,e.token,n,i),1!==parseInt(t.admin)&&1!==parseInt(t.staff)||((0,F.Zj)(e.token,t.instLinker,n,i),(0,S.xc)(e.token,t.instLinker,n,i),(0,A.Xk)(e.token,t.instLinker,n,i),(0,V.YR)(e.token,t.instLinker,n,i),(0,L.lX)(t.instLinker,e.token,n,i),(0,w.mX)(e.token,t.instLinker,n,i),(0,b.kt)(e.token,t.instLinker,n,i)),(0,N.yl)(e.token,t.instLinker,n,i),(0,Y.Ld)(e.token,t.instLinker,n,i),(0,T.xY)(e.token,t.instLinker,n,i)};return(0,u.jsx)(u.Fragment,{})},U=t(8920),B=function(){var n=(0,i.s0)(),e=(0,a.v9)((function(n){return n.inst.activeInst})),t=(0,a.v9)((function(n){return n.auth.user})),c=(0,a.v9)((function(n){return n.sub.subs})),o=(0,a.v9)((function(n){return n.cred.activeCred})),l=(0,g.C)(c,o.instLinker),y=(0,r.useState)(!1),I=(0,s.Z)(y,2),C=I[0],Z=I[1];return(0,r.useEffect)((function(){o.linker||n("/")}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(U.Z,{ToggleDrawer:function(){return Z(!C)}}),(0,u.jsxs)("div",{style:{marginTop:"40px"},children:[(0,u.jsx)(P,{}),(0,u.jsx)(R,{}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsxs)("div",{className:"bg-secondary ".concat(C?"side-menu-open":"side-menu"),children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{onClick:function(){Z(!1),n("/".concat(e.name))},children:(0,u.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,u.jsx)(x.Z,{})," ",e.name]})}),(0,u.jsx)("hr",{}),(0,u.jsx)("p",{onClick:function(){Z(!1),n("profile")},children:(0,u.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,u.jsx)(p.Z,{})," ",t.name||t.logger]})}),(0,u.jsx)("hr",{}),1===parseInt(o.admin)&&l>0?(0,u.jsx)(d,{setDrawer:Z}):null,(1===parseInt(o.admin)||1===parseInt(o.staff))&&l>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{onClick:function(){Z(!1),n("clients")},children:(0,u.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,u.jsx)(k.Z,{})," Clients"]})}),(0,u.jsx)("hr",{})," ",(0,u.jsx)("p",{onClick:function(){Z(!1),n("entries")},children:(0,u.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,u.jsx)(m.Z,{})," Entries"]})}),(0,u.jsx)("hr",{})," ",(0,u.jsx)("p",{onClick:function(){Z(!1),n("applications")},children:(0,u.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,u.jsx)(h.Z,{})," Applications"]})})," ",(0,u.jsx)("hr",{})," "]}):null,1===parseInt(o.client)&&l>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{onClick:function(){Z(!1),n("client/applications")},children:(0,u.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,u.jsx)(h.Z,{})," Applications"]})})," ",(0,u.jsx)("hr",{})," "]}):null,(0,u.jsx)("p",{onClick:function(){Z(!1),n("calculator")},children:(0,u.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,u.jsx)(f.Z,{})," Loan Calculator"]})})," "]}),(0,u.jsxs)("p",{children:[l-2592e3<0&&1===parseInt(o.admin)?(0,u.jsx)("span",{onClick:function(){n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId)),Z(!1)},className:"text-center",style:{color:"hotpink",cursor:"pointer"},children:(0,u.jsx)("small",{children:"Activate "})}):null," ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{onClick:function(){n("/".concat(e.name,"/terms")),Z(!1)},className:"text-center text-info",style:{cursor:"pointer",fontSize:"12px"},children:(0,u.jsx)("small",{children:"Terms And Conditions "})})," ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{onClick:function(){n("/".concat(e.name,"/privacy")),Z(!1)},className:"text-center text-info",style:{cursor:"pointer",fontSize:"12px"},children:(0,u.jsx)("small",{children:"Privacy Policy "})})," ",(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,u.jsxs)("small",{children:[(0,u.jsx)(j.Z,{})," www.techsystems.world"]})}),(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,u.jsxs)("small",{children:[(0,u.jsx)(v.Z,{})," contact.techsystems@gmail.com"]})}),(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,u.jsxs)("small",{children:["\xa9 ",(new Date).getFullYear()," Techsystems"]})})]})]}),(0,u.jsxs)("div",{className:"".concat(C?"main-page-drawer-open":"main-page-drawer-closed"),children:[l<0?(0,u.jsx)(u.Fragment,{children:c.length>0?(0,u.jsxs)("p",{className:"text-danger text-center h6",children:["Annual Period Lapsed"," ",1===parseInt(o.admin)?(0,u.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,u.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]}):(0,u.jsxs)("p",{className:"text-danger text-center h6",children:["Trial Period Lapsed"," ",1===parseInt(o.admin)?(0,u.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,u.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]})}):l<432e3?(0,u.jsx)(u.Fragment,{children:c.length>0?(0,u.jsxs)("p",{className:"text-danger text-center h6",children:["Annual Period Lapsing in ",parseInt(l/86400)," ","Days",1===parseInt(o.admin)?(0,u.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,u.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]}):(0,u.jsxs)("p",{className:"text-danger text-center h6",children:["Trial Period Lapsing in ",parseInt(l/86400)," ","Days",1===parseInt(o.admin)?(0,u.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,u.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]})}):null,(0,u.jsx)("div",{className:"bg-light",children:(0,u.jsx)(i.j3,{})})]})]})]})]})}},4169:function(n,e,t){t.d(e,{C:function(){return s}});var s=function(n,e){return n.filter((function(n){return n.softwareId==parseInt(e/1e3)})).reduce((function(n,e){return n.some((function(n){return n.code==e.code}))||n.push(e),n}),[]).map((function(n,t){var s=parseInt(e/1e3),r=0;if(s==n.softwareId){var i=n.code/(t+2)-s;r=99===i&&0===t||29===i&&t>0?31622400:0}return r})).reduce((function(n,e){return+n+ +e}),0)+parseInt(e/1e3)+7776e3-parseInt(Date.now()/1e3)}}}]);
//# sourceMappingURL=474.18092ab5.chunk.js.map